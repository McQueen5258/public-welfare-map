(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[7],{141:function(e,t,r){"use strict";r.r(t);var a=r(30),n=r.n(a),c=r(135),o=r(136),s=r(33),i=r(0),p=r(139),l=(r(140),r(156)),u=r(157),d=r(1),b=Object(l.a)((function(e){return{root:{position:"absolute",width:"400px",height:"130px",backgroundColor:"white",boxShadow:"0 10px 25px rgba(92, 99, 105, .2)",display:"flex",flexDirection:"row",userSelect:"none",transition:"all 1s"},cardContent:{height:"100%",width:"70%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},cardImg:{height:"100%",width:"30%",backgroundSize:"70%",backgroundPosition:"center",backgroundRepeat:"no-repeat"},text:{margin:"0"},founder:{color:"rgb(165, 36, 56)"},placeName:{color:"rgb(87, 91, 102)"}}}));var j=function(e){var t=e.card,r=b(),a=t.properties,n=a.founder,c=a.position,o=a.vision,s=a.logo,i=c.province,p=c.city;return Object(d.jsx)(u.a,{in:t.visibility,timeout:1e3,children:Object(d.jsxs)("div",{className:r.root,style:{top:t.top+"px",left:t.left+"px"},children:[Object(d.jsxs)("div",{className:r.cardContent,children:[Object(d.jsx)("h2",{className:r.text,children:o}),Object(d.jsxs)("p",{className:r.text,children:[Object(d.jsx)("span",{className:r.founder,children:n}),Object(d.jsxs)("span",{className:r.placeName,children:[", ",i,p]})]})]}),Object(d.jsx)("div",{className:r.cardImg,style:{backgroundImage:"url("+s+")"}})]})})};t.default=function(){var e=Object(i.useState)({visibility:!1,top:"0",left:"0",properties:{vision:"",founder:"",logo:"",position:{province:"",city:"",district:"",village:"",street:"",detailed:""}}}),t=Object(s.a)(e,2),r=t[0],a=t[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),b=u[0],f=(u[1],Object(i.useRef)());return console.log("logo: ",r.properties.logo),Object(i.useEffect)((function(){var e=1200,t=1e3,s={top:10,right:10,bottom:10,left:10},i=Object(p.e)(f.current).append("g").attr("transform","translate(".concat(s.top,", ").concat(s.left,")")),l=Object(p.a)().center([107,31]).scale(900).translate([e/2,t/2]),u=(p.d,Object(p.b)().projection(l));function d(){return(d=Object(o.a)(n.a.mark((function e(){var t,s,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,Object(p.c)("/Data/PublicWelfareCoordinates/data.geo.json");case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",console.error(e.t0));case 10:i.selectAll("circle").data(t.points).enter().append("circle").attr("cx",(function(e){var t=e.geometry.coordinates;return l(t)[0]})).attr("cy",(function(e){var t=e.geometry.coordinates;return l(t)[1]})).attr("fill","blue").attr("class","point").attr("r",6).attr("d",u).on("mouseover",(function(e,t){return console.log("d.properties: ",t.properties),a(Object(c.a)(Object(c.a)({},r),{},{visibility:!0,top:e.pageY+8,left:e.pageX+3,properties:t.properties}))})).on("mouseout",(function(e,t){return a(Object(c.a)(Object(c.a)({},r),{},{visibility:!1}))}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)},s=function(){return d.apply(this,arguments)},t={},e.prev=3,e.next=6,Object(p.c)("/Map/ChinaData.geo.json");case 6:return t.map1=e.sent,e.next=9,Object(p.c)("/Map/data.ali.json");case 9:return t.map2=e.sent,e.next=12,Object(p.c)("/Map/data.jiangshukeji.json");case 12:t.map3=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",console.error(e.t0));case 18:i.selectAll("g").data(t.map1.features).enter().append("g").append("path").attr("d",u).attr("stroke","#d8d7d7").attr("stroke-width",1).attr("fill","white").append("title").text((function(e){return e.properties.name})),s();case 20:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}!function(){d.apply(this,arguments)}()}),[b]),Object(d.jsxs)("div",{id:"map",children:[Object(d.jsx)(j,{card:r}),Object(d.jsx)("svg",{ref:f,viewBox:"0 0 1200 1000"})]})}}}]);
//# sourceMappingURL=7.31ea0a9f.chunk.js.map