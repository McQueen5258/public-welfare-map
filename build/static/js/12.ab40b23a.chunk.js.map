{"version":3,"sources":["components/Browse.js"],"names":["useStyles","makeStyles","root","width","maxWidth","height","topBar","top","bottom","left","right","backgroundColor","tabPanels","margin","bottomBar","bottomBarItems","display","flexDirection","AntTabs","styled","Tabs","AntTab","props","disableRipple","textTransform","minWidth","ProjectIcon","url","other","xlinkHref","TabPanel","children","value","index","role","hidden","id","sx","p","a11yProps","Browse","handleDrawerToggle","classes","useState","setValue","data","useSelector","state","publicWelfare","publicWelfareData","map","ChinaMap","ChinaMapData","handleClick","projectId","event","anchor","target","ownerDocument","document","querySelector","scrollIntoView","behavior","block","filterProjects","province","projects","filter","properties","position","className","onChange","newValue","centered","textColor","indicatorColor","label","component","name","button","onClick","logo","length","disablePadding","style","paddingLeft","href","color"],"mappings":"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","file":"static/js/12.ab40b23a.chunk.js","sourcesContent":["import React, { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n// import SwipeableViews from 'react-swipeable-views';\nimport {\n  Box,\n  AppBar,\n  Tabs,\n  Tab,\n  Toolbar,\n  List,\n  ListItem,\n  ListItemText,\n  SvgIcon,\n  ListItemIcon,\n  Link\n} from '@material-ui/core';\nimport { makeStyles, styled } from '@material-ui/styles';\nimport { useSelector } from 'react-redux';\n// import Project from \"./Bar/Project\";\n// import { createTheme } from '@material-ui/core/styles';\n\n// * ----------------------------------------------------------------\n// const theme = createTheme();\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100vw',\n    maxWidth: '400px',\n    height: '100vh'\n  },\n  topBar: {\n    top: '0',\n    bottom: 'auto',\n    left: '0',\n    right: 'auto',\n    width: '400px',\n    backgroundColor: 'white'\n  },\n  tabPanels: {\n    margin: '40px 0'\n  },\n  bottomBar: {\n    top: 'auto',\n    bottom: 0,\n    left: '0',\n    right: 'auto',\n    backgroundColor: 'white',\n    maxWidth: '400px'\n  },\n  bottomBarItems: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}));\n\n// * ----------------------------------------------------------------\n\nconst AntTabs = styled(Tabs)({});\n\nconst AntTab = styled((props) => <Tab disableRipple {...props} />)(() => ({\n  textTransform: 'none',\n  minWidth: 100\n  // [theme.breakpoints.up('sm')]: {\n  //   minWidth: 200,\n  // },\n}));\n\nfunction ProjectIcon({ url, ...other }) {\n  return (\n    <SvgIcon {...other}>\n      <image xlinkHref={url} height=\"25\" width=\"25\" />\n    </SvgIcon>\n  );\n}\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 2 }}>\n          <Box>{children}</Box>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nfunction Browse({ handleDrawerToggle }) {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const { publicWelfareData: data } = useSelector(\n    (state) => state.publicWelfare\n  );\n  const { ChinaMapData: map } = useSelector((state) => state.ChinaMap);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleClick = (projectId, event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector(\n      `#${projectId}`\n    );\n    if (anchor) {\n      anchor.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n    // handleDrawerToggle();\n  };\n\n  const filterProjects = (province, projects) => {\n    return projects.filter(\n      ({ properties }) => properties.position.province === province\n    );\n  };\n  return (\n    <Box className={classes.root}>\n      {/* <Button style={{ position: 'fixed' }} onClick={handleDrawerToggle}>\n        关闭\n      </Button> */}\n\n      <Box>\n        <AppBar position=\"fixed\" className={classes.topBar}>\n          <AntTabs\n            value={value}\n            onChange={handleChange}\n            centered\n            textColor=\"primary\"\n            indicatorColor=\"primary\"\n          >\n            <AntTab label=\"项目\" {...a11yProps(0)} />\n            <AntTab label=\"地点\" {...a11yProps(1)} />\n            <AntTab label=\"目的\" {...a11yProps(2)} />\n          </AntTabs>\n        </AppBar>\n        <TabPanel value={value} index={0} className={classes.tabPanels}>\n          <List component=\"nav\">\n            {data?.map(({ name, properties }, index) => {\n              return (\n                <ListItem\n                  key={index + name}\n                  button\n                  onClick={(event) => handleClick(name, event)}\n                >\n                  <ListItemIcon>\n                    <ProjectIcon url={properties?.logo} />\n                  </ListItemIcon>\n                  <ListItemText>{name}</ListItemText>\n                </ListItem>\n              );\n            })}\n          </List>\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.tabPanels}>\n          <List component=\"nav\">\n            {map?.map(({ properties }, index) => {\n              return [...filterProjects(properties?.name, data)].length !== 0 ? (\n                <Fragment key={index + properties?.name}>\n                  <ListItem component=\"div\">\n                    <ListItemText>{properties?.name}</ListItemText>\n                  </ListItem>\n                  <List component=\"div\" disablePadding>\n                    {[...filterProjects(properties?.name, data)].map(\n                      ({ name, properties }) => {\n                        return (\n                          <ListItem\n                            key={index + name}\n                            button\n                            onClick={(event) => handleClick(name, event)}\n                            style={{ paddingLeft: '20px' }}\n                          >\n                            <ListItemIcon>\n                              <ProjectIcon url={properties?.logo} />\n                            </ListItemIcon>\n                            <ListItemText>{name}</ListItemText>\n                          </ListItem>\n                        );\n                      }\n                    )}\n                  </List>\n                </Fragment>\n              ) : null;\n            })}\n          </List>\n        </TabPanel>\n        <TabPanel value={value} index={2} className={classes.tabPanels}>\n          <List component=\"nav\">\n            <ListItem button>\n              <ListItemText>Empower</ListItemText>\n            </ListItem>\n            <ListItem button>\n              <ListItemText>Create</ListItemText>\n            </ListItem>\n            <ListItem button>\n              <ListItemText>Respond</ListItemText>\n            </ListItem>\n            <ListItem button>\n              <ListItemText>Improve</ListItemText>\n            </ListItem>\n          </List>\n        </TabPanel>\n      </Box>\n      <AppBar position=\"fixed\" className={classes.bottomBar}>\n        <Toolbar>\n          <Box className={classes.bottomBarItems}>\n            <Link href=\"#\" color=\"primary\">\n              关于这个项目\n            </Link>\n            <Link href=\"#\" color=\"primary\">\n              隐私政策\n            </Link>\n          </Box>\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n}\n\nexport default Browse;\n"],"sourceRoot":""}